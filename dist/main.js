(()=>{"use strict";const e=function(e){return new Promise((function(n,i){setTimeout((function(){i(new Error(`Request took too long! Timeout after ${e} second`))}),1e3*e)}))},n=new class{_parentEl=document.querySelector(".recipe-view");_data;renderRecipeView(e){this._parentEl.innerHTML="",this._data=e,this._generateMarkup(),this._parentEl.insertAdjacentHTML("beforeend",this._generateMarkup())}_generateMarkup(){return`<svg class="icon icon__close-view icon__close-outline" id="closeModal">\n    <use\n      xlink:href="./src/img/icons.svg#icon-close-outline"\n    ></use></svg>\n<h1 class=" heading--secondary">${this._data.title}</h1>\n<div class="recipe-view__info">\n<div class="recipe-view__ingredients">\n  <h2 class="heading--tertiary">Ingredients</h2>\n  \n  <div class="recipe-view__ingredients--details">\n    <ul class="list-style">\n    ${this._data.ingredients.map((e=>`<li><svg class="icon icon__cheveron-right">\n      <use\n        xlink:href="./src/img/icons.svg#icon-cheveron-right"\n      ></use></svg\n    ><span class="recipe-view__element--text">${e}</span></li>`)).join("")}\n    </ul>\n  </div>\n</div>\n\n<div class="recipe-view__info--details">\n  <svg class="icon icon__file--text">\n    <use\n      xlink:href="./src/img/icons.svg#icon-file-text"\n    ></use></svg\n  >\n  <ul class="list-style">\n    <li><span class="text-bolder">Preparation time:</span> ${this._data.prepartionTime}</li>\n    <li><span class="text-bolder">Cooking time:</span> ${this._data.cookingTime}</li>\n    <li><span class="text-bolder">Servings:</span> ${this._data.servings}</li>\n    <li><span class="text-bolder">Category:</span> ${this._data.category}</li>\n    <li><span class="text-bolder">Publisher:</span> ${this._data.publisher}</li>\n  </ul>\n</div>\n</div>\n\n<div class="recipe-view__directions">\n<h2 class="heading--tertiary">Directions</h2>\n<div class="recipe-view__directions--details">\n  <ul class="list-style">\n    ${this._data.directions.map(((e,n)=>`<li class="recipe-view__directions--element"><svg class="icon icon__checkmark-outline">\n      <use\n        xlink:href="./src/img/icons.svg#icon-checkmark-outline"\n      ></use></svg\n    ><span class="text-bolder">Step ${n+1}:&nbsp;</span>${e}</li>`)).join("")}\n  </ul>\n</div>\n</div>`}},i=document.getElementsByTagName("body")[0],t=document.querySelector(".nav__add-recipe--btn"),s=document.querySelector(".addrecipe"),c=document.querySelector(".icon__close-form"),o=document.querySelector(".recipe__card--btn"),r=(document.querySelector(".icon__close-view"),document.querySelector(".modal-view")),l=document.querySelector(".add-recipe-view"),a=document.querySelector(".recipe-view"),d=document.querySelector(".hamburger-menu"),u=document.querySelector(".menu-section"),p=document.querySelector(".menu-view__icon"),m=document.querySelector(".dropdown__btn"),g=document.querySelector(".dropdown__filters");i.addEventListener("click",(e=>{e.target!==t&&e.target!==s||(u.style.display="none",l.style.display="block")})),c.addEventListener("click",(function(){l.style.display="none",i.classList.remove("my-body-noscroll-class")})),d.addEventListener("click",(function(){u.style.display="block",i.classList.add("my-body-noscroll-class")})),p.addEventListener("click",(function(){u.style.display="none",i.classList.remove("my-body-noscroll-class")})),m.addEventListener("click",(function(){g.classList.add("scale-back")}));const v=document.querySelector(".add-recipe-view__form");v.addEventListener("submit",(function(n){n.preventDefault();const i=[...new FormData(v)],t=Object.fromEntries(i);console.log(t),v.reset(),async function(n,i){try{const n=fetch("http://192.168.4.10:8300/recipes",{method:"POST",mode:"no-cors",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}),t=await Promise.race([n,e(10)]),s=await t.json();if(console.log(s),!t.ok)throw new Error(`${s.message} (${t.status})`)}catch(e){console.log(e)}}(0,t)}));o.addEventListener("click",(function(){a.style.display="block",async function(i){try{const t=await async function(n){try{const i=fetch(n,{method:"GET"}),t=await Promise.race([i,e(30)]),s=await t.json();console.log(s);const c=s[0];return console.log(c),{title:c.name,publisher:c.addedBy,category:c.category,prepartionTime:c.prepTime,cookingTime:c.cookingTime,servings:c.servings,url:c.url,ingredients:c.ingredients,directions:c.directions}}catch(e){console.log(e)}}(i);n.renderRecipeView(t)}catch(e){console.log(e)}}("http://192.168.4.10:8300/recipes/where?id=13")})),r.addEventListener("click",(function(e){e.target&&"closeModal"===e.target.id&&(a.style.display="none")}))})();